# DashaMail PHP Client
–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è PHP-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å [DashaMail API](https://dashamail.ru/api/).

- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ API —á–µ—Ä–µ–∑ camelCase-–º–µ—Ç–æ–¥—ã
- –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ API
- –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è, –ø—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
composer require geekjob/dasha-mail-client
```

–∏–ª–∏ –≤—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å namespace —á–µ—Ä–µ–∑ psr-4.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```php
use DashaMail\Client;

$client = new Client('your_api_key');

// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∞–¥—Ä–µ—Å–Ω—ã–µ –±–∞–∑—ã
$lists = $client->listsGet();

// –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫–∞
$result = $client->listsAddMember([
    'list_id' => 123456,
    'email'   => 'test@example.com',
]);

// –ü–æ–ª—É—á–∏—Ç—å –æ—Ç—á—ë—Ç –ø–æ —Ä–∞—Å—Å—ã–ª–∫–µ
$report = $client->reportsGet([
    'campaign_id' => 5555
]);
```

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º–µ—Ç–æ–¥–æ–≤ API

–í—Å–µ –º–µ—Ç–æ–¥—ã –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –≤ camelCase-–Ω–æ—Ç–∞—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, `lists.get` ‚Üí `$client->listsGet([...])`.

---

### üìã –ê–¥—Ä–µ—Å–Ω—ã–µ –±–∞–∑—ã (`lists`)

#### `listsGet`

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–¥—Ä–µ—Å–Ω—ã—Ö –±–∞–∑.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `list_id` *(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)* ‚Äî ID –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –±–∞–∑—ã

#### `listsAdd`

–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∞–¥—Ä–µ—Å–Ω—É—é –±–∞–∑—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `name` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã
- `abuse_email`, `abuse_name`, `company`, `address`, `city`, `zip`, `country`, `url`, `phone` ‚Äî —Ä–µ–∫–≤–∏–∑–∏—Ç—ã

#### `listsUpdate`

–û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞–¥—Ä–µ—Å–Ω–æ–π –±–∞–∑–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
–¢–∞ –∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —á—Ç–æ –∏ —É `listsAdd`, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å `list_id`.

#### `listsDelete`

–£–¥–∞–ª–∏—Ç—å –∞–¥—Ä–µ—Å–Ω—É—é –±–∞–∑—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `list_id` ‚Äî ID —É–¥–∞–ª—è–µ–º–æ–π –±–∞–∑—ã

#### `listsGetMembers`

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –≤ –±–∞–∑–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
- `list_id`, `state`, `start`, `limit`, `order`, `member_id`, `email`, `segment_id`

#### `listsGetUnsubscribed`

–°–ø–∏—Å–æ–∫ –æ—Ç–ø–∏—Å–∞–≤—à–∏—Ö—Å—è –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
- `start`, `limit`, `order`, `list_id`

#### `listsGetComplaints`

–°–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤, –æ—Ç–º–µ—Ç–∏–≤—à–∏—Ö "–≠—Ç–æ –°–ø–∞–º".

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
- `start`, `limit`, `order`, `list_id`

#### `listsMemberActivity`

–ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
- `email`, `filter`, `start_time`, `end_time`, `campaign_id`

#### `listsUpload`

–ò–º–ø–æ—Ä—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –∏–∑ —Ñ–∞–π–ª–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
- `list_id`, `file`, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Å–º. [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](https://dashamail.ru/api/))

#### `listsAddMember`

–î–æ–±–∞–≤–∏—Ç—å –æ–¥–Ω–æ–≥–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
- `list_id`, `email`, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è

#### `listsAddMemberBatch`

–î–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
- `list_id`, `batch` (json), –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏

#### `listsUpdateMember`

–û–±–Ω–æ–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
- `list_id`, `email` –∏–ª–∏ `member_id`, –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

#### `listsDeleteMember`

–£–¥–∞–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
- `list_id`, `email` –∏–ª–∏ `member_id`

---

### üì® –†–∞—Å—Å—ã–ª–∫–∏ (`campaigns`)

#### `campaignsGet`

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–∞—Å—Å—ã–ª–æ–∫.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
- `campaign_id`, `status`, `start`, `limit`, `order`, `date_from`, `date_to`

#### `campaignsAdd`

–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Ä–∞—Å—Å—ã–ª–∫—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
- `subject`, `from_name`, `from_email`, `body`, `list_id` –∏ –¥—Ä.

#### `campaignsDelete`

–£–¥–∞–ª–∏—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
- `campaign_id`

---

### üìà –û—Ç—á—ë—Ç—ã (`reports`)

#### `reportsGet`

–ü–æ–ª—É—á–∏—Ç—å –æ—Ç—á—ë—Ç –ø–æ —Ä–∞—Å—Å—ã–ª–∫–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
- `campaign_id`

#### `reportsGetClicks`

–ö–ª–∏–∫–∏ –ø–æ —Å—Å—ã–ª–∫–∞–º –≤ —Ä–∞—Å—Å—ã–ª–∫–µ.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
- `campaign_id`

#### `reportsGetViews`

–û—Ç–∫—Ä—ã—Ç–∏—è —Ä–∞—Å—Å—ã–ª–∫–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
- `campaign_id`

---

### üë§ –ê–∫–∫–∞—É–Ω—Ç (`account`)

#### `balance`

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å –∞–∫–∫–∞—É–Ω—Ç–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
(–Ω–µ—Ç)

#### `ping`

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ API (–≤–µ—Ä–Ω–µ—Ç `pong`).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**  
(–Ω–µ—Ç)

---

## –ü—Ä–∏–º–µ—Ä—ã
```php
// –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å
$balance = $client->balance();

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API
$pong = $client->ping();

// –°–æ–∑–¥–∞—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É
$newCampaign = $client->campaignsAdd([
    'subject'    => '–ù–æ–≤–∏–Ω–∫–∞',
    'from_name'  => '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥',
    'from_email' => 'info@yourdomain.com',
    'body'       => '–¢–µ–∫—Å—Ç –ø–∏—Å—å–º–∞',
    'list_id'    => 11111
]);
```

## –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–ê–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –º–µ—Ç–æ–¥–æ–≤ ‚Äî –Ω–∞ —Å–∞–π—Ç–µ  
[https://dashamail.ru/api/](https://dashamail.ru/api/)

## –õ–∏—Ü–µ–Ω–∑–∏—è
- [MIT License](LICENSE)
